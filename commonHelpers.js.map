{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/covers.js","../src/js/faq.js","../src/js/reviews.js","../src/js/work-together.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport async function getReviews() {\n    const BASE_ERL = 'https://portfolio-js.b.goit.study/api';\n    const END_POINT = '/reviews';\n    const url = `${BASE_ERL}${END_POINT}`;\n    const res = await axios.get(url)\n    return res.data\n}\n\nexport async function postRequest(request) {\n    const BASE_ERL = 'https://portfolio-js.b.goit.study/api';\n    const END_POINT = '/requests';\n    const url = `${BASE_ERL}${END_POINT}`;\n    const res = await axios.post(url, request)\n    return res.data\n}\n// example request data\n// const req = {\n//   email: \"test@gmail.com\",\n//   comment: \"User's comment\"\n// }","const coverBlock = document.querySelector('.content');\nconst images = document.querySelectorAll('.marquee__line');\nfunction isElementInViewport(el) {\n  const rect = el.getBoundingClientRect();\n  return rect.y < 0\n}\n\nwindow.addEventListener('scroll',(e) => {\n  if (isElementInViewport(coverBlock)) {\n    images.forEach(el => el.classList.add('animate-block'))\n  } else {\n    images.forEach(el => el.classList.remove('animate-block'))\n  }\n})\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    const accordions = document.querySelectorAll('.faq-accordion');\n\n    accordions.forEach(accordion => {\n        accordion.addEventListener('click', function() {\n            const arrow = this.querySelector('.faq-arrow');\n            const description = this.nextElementSibling;\n\n            arrow.classList.toggle('rotate');\n            description.classList.toggle('visually-hidden');\n        });\n    });\n\n    new Accordion('.faq-section', {\n        duration: 400,\n        showFirstItem: false,\n    });\n});","import Swiper from 'swiper';\nimport { Navigation } from 'swiper/modules';\nimport 'swiper/css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getReviews } from './api';\n\nconst list = document.querySelector('.reviews-main-list');\nconst swiperContainer = document.querySelector('.swiper');\n\nfunction renderReview({ avatar_url, author, review }) {\n  return `<li class=\"reviews-item swiper-slide\">\n            \n              <img class=\"reviews-avatar\" src=\"${avatar_url}\" alt=\"\" width=\"48\" height=\"48\" />\n              <h3 class=\"reviews-item-title\">${author}</h3>\n              <p class=\"reviews-item-text\">\n                ${review}\n              </p>\n           \n          </li>`;\n}\nfunction renderReviews(reviewsArr) {\n  return reviewsArr.map(renderReview).join('');\n}\n\nfunction renderErrorText() {\n  const itemError = document.createElement('li');\n  const span = document.createElement('span');\n  itemError.classList.add('reviews-item-error');\n  span.textContent = 'Not found';\n  span.classList.add('reviews-text-error');\n  itemError.appendChild(span);\n  list.appendChild(itemError);\n}\n\ndocument.addEventListener('DOMContentLoaded', handleReviews);\n\nasync function handleReviews() {\n  try {\n    const review = await getReviews();\n    const markup = renderReviews(review);\n    list.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.error('Error occurred while fetching reviews:', error);\n    renderErrorText();\n    iziToast.info({\n      close: false,\n      position: 'topRight',\n      message:\n        'Sorry, an error occurred while fetching reviews. Please try later!',\n    });\n  }\n}\n\nconst swiper = new Swiper(swiperContainer, {\n  modules: [Navigation],\n  slidesPerView: 1,\n  spaceBetween: 16,\n  keyboard: {\n    enabled: true,\n    onlyInViewport: false,\n  },\n\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n      spaceBetween: 18,\n    },\n\n    1440: {\n      slidesPerView: 4,\n      spaceBetween: 16,\n    },\n  },\n  direction: 'horizontal',\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  disabledClass: 'swiper-button-disabled',\n});\n","import { postRequest } from './api';\nconst modal = document.querySelector(\".footer-modal\");\n\n  const form = document.getElementById(\"cooperation-comment-form\");\n  const emailInput = document.getElementById(\"email\");\n  const commentInput = document.getElementById(\"comment\");\n  \n\n  form.addEventListener(\"submit\", async function (event) {\n    event.preventDefault();\n\n    if (validateEmail(emailInput.value) && commentInput.value.trim() !== \"\") {\n      const emailInputValue = form.elements.email.value;\n      const commentInputValue = form.elements.comment.value;\n      const req = {\n    email: emailInputValue,\n    comment: commentInputValue\n      }\n      const post = await postRequest(req)\n      try{\n          showModal();\n      } catch {\n        console.log(err);\n      }\n      \n      \n    }\n  });\n\n  function validateEmail(email) {\n    const regex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n    return regex.test(email);\n  }\n \n  function showModal() {\n    modal.classList.remove(\"visually-hidden\");\n    const close = setTimeout (() => modal.classList.add(\"visually-hidden\"), 5000)\n  };\n\nconst closeBtn = document.querySelector(\".footer-close-btn\");\nconst modalBackdrop = document.querySelector(\".footer-modal\");\ncloseBtn.addEventListener(\"click\", closeModal);\nmodalBackdrop.addEventListener(\"click\", function (event) {\n  if (event.target === modalBackdrop) {\n    closeModal();\n  }\n});\ndocument.addEventListener(\"keydown\", function (event) {\n  if (event.key === \"Escape\") {\n    closeModal();\n  }\n});\nfunction closeModal() {\n  modal.classList.add(\"visually-hidde\");\n}\n  "],"names":["getReviews","url","axios","postRequest","request","coverBlock","images","isElementInViewport","el","accordion","arrow","description","Accordion","list","swiperContainer","renderReview","avatar_url","author","review","renderReviews","reviewsArr","renderErrorText","itemError","span","handleReviews","markup","error","iziToast","Swiper","Navigation","modal","form","emailInput","commentInput","event","validateEmail","emailInputValue","commentInputValue","showModal","email","closeBtn","modalBackdrop","closeModal"],"mappings":"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"}